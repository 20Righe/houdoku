<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>
<VBox xmlns:fx="http://javafx.com/fxml"
      xmlns="http://javafx.com/javafx"
      fx:id="container"
      stylesheets="/style/main.css,/style/light.css"
      alignment="TOP_CENTER">
    <MenuBar fx:id="menuBar">
        <Menu text="File">
            <MenuItem text="New" onAction="#showConfigStage"/>
            <MenuItem text="Open" onAction="#goToSearchSeries"/>
            <MenuItem text="Save"/>
            <MenuItem text="Save As"/>
            <SeparatorMenuItem/>
            <MenuItem id="exitButton" text="Exit" onAction="#exit"/>
        </Menu>
        <Menu text="Edit">
            <MenuItem text="Copy"/>
            <MenuItem text="Cut"/>
            <MenuItem text="Paste"/>
        </Menu>
        <Menu text="View">
            <CheckMenuItem fx:id="nightModeItem" text="Night Mode" onAction="#toggleNightMode"/>
            <CheckMenuItem fx:id="showActionBarItem" text="Show Action Bar" selected="true"
                           onAction="#toggleActionBar"/>
        </Menu>
        <Menu text="Help">
            <MenuItem text="Search" disable="true"/>
            <MenuItem text="Online Manual" visible="false"/>
            <SeparatorMenuItem/>
            <MenuItem text="About"/>
        </Menu>
    </MenuBar>

    <HBox fx:id="actionBar" alignment="CENTER_LEFT" spacing="10" prefHeight="50">
        <padding>
            <Insets bottom="5" top="5" left="15" right="15"/>
        </padding>
        <Button text="Add Series" prefHeight="${actionContainer.prefHeight}"
                onAction="#goToSearchSeries">
            <graphic>
                <ImageView>
                    <Image url="/img/icon_add.png"/>
                </ImageView>
            </graphic>
        </Button>
        <Button text="Remove Series" prefHeight="${actionContainer.prefHeight}"
                onAction="#promptRemoveSelectedSeries">
            <graphic>
                <ImageView>
                    <Image url="/img/icon_remove.png"/>
                </ImageView>
            </graphic>
        </Button>
        <Button text="View Series" prefHeight="${actionContainer.prefHeight}"
                onAction="#goToSelectedSeries">
            <graphic>
                <ImageView>
                    <Image url="/img/icon_view.png"/>
                </ImageView>
            </graphic>
        </Button>
        <Separator orientation="VERTICAL"/>
        <Button text="Settings" prefHeight="${actionContainer.prefHeight}"
                onAction="#showConfigStage">
            <graphic>
                <ImageView>
                    <Image url="/img/icon_settings.png"/>
                </ImageView>
            </graphic>
        </Button>
        <HBox alignment="CENTER_RIGHT" HBox.hgrow="ALWAYS" spacing="15">
            <Separator orientation="VERTICAL"/>
            <TextField fx:id="filterTextField" prefWidth="240"
                       promptText="Filter library by title or author"/>
        </HBox>
    </HBox>

    <StackPane VBox.vgrow="ALWAYS">
        <SplitPane fx:id="contentContainer" VBox.vgrow="ALWAYS">
            <TreeTableView fx:id="treeView">
                <placeholder>
                    <Label styleClass="placeholderLabel" text="No series found."/>
                </placeholder>
                <columns>
                    <TreeTableColumn fx:id="categoriesColumn" prefWidth="${treeView.width}"
                                     resizable="false" text="Categories"/>
                </columns>
            </TreeTableView>
            <StackPane>
                <TableView fx:id="tableView" visible="false" managed="false">
                    <placeholder>
                        <Label styleClass="bareText,placeholderLabel" text="No series found."/>
                    </placeholder>
                    <columns>
                        <TableColumn fx:id="coverColumn" resizable="false" text="Cover"/>
                        <TableColumn fx:id="titleColumn" resizable="false" text="Title"/>
                        <TableColumn fx:id="numChaptersColumn" resizable="false" text="Chapters"/>
                    </columns>
                </TableView>
                <ScrollPane fx:id="coversContainer" fitToWidth="true">
                    <StackPane alignment="TOP_CENTER">
                        <padding>
                            <Insets bottom="10" top="10" left="10" right="10"/>
                        </padding>
                        <FlowPane fx:id="flowPane" hgap="10" vgap="10"/>
                    </StackPane>
                </ScrollPane>
            </StackPane>
        </SplitPane>
        <HBox alignment="CENTER" mouseTransparent="true">
            <ProgressIndicator fx:id="reloadProgressIndicator" visible="false"
                               mouseTransparent="true"/>
        </HBox>
    </StackPane>

    <HBox fx:id="layoutBar" alignment="CENTER_RIGHT" spacing="10">
        <padding>
            <Insets bottom="5" top="5" right="15"/>
        </padding>
        <Text text="Layout: " styleClass="bareText"/>
        <fx:define>
            <ToggleGroup fx:id="selectLayoutGroup"/>
        </fx:define>
        <RadioButton fx:id="layoutTableButton" text="Table" styleClass="bareText"
                     toggleGroup="$selectLayoutGroup" onAction="#updateLayout"/>
        <RadioButton fx:id="layoutCoversButton" text="Covers" styleClass="bareText"
                     toggleGroup="$selectLayoutGroup" selected="true" onAction="#updateLayout"/>
        <RadioButton fx:id="layoutCompactButton" text="Compact" styleClass="bareText"
                     toggleGroup="$selectLayoutGroup" onAction="#updateLayout"/>
    </HBox>
</VBox>
